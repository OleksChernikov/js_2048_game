parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var l=document.querySelectorAll(".field-cell"),n=document.querySelector(".game-score"),r=n.innerText,u=document.querySelector(".message-lose"),e=document.querySelector(".message-start"),t=document.querySelector(".message-win"),o=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],a=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]],f=4;function i(){l.forEach(function(l,n){var r=n%f,u=Math.floor(n/f),e=o[u][r];l.textContent=null!==e?e:"",l.className="field-cell",null!==e&&l.classList.add("field-cell--"+e)})}function c(){var l=[];if(o.forEach(function(n,r){n.forEach(function(n,u){null===n&&l.push({x:u,y:r})})}),l.length>0){var n=l[Math.floor(Math.random()*l.length)],r=Math.random()<.9?2:4;o[n.y][n.x]=r,i()}h()}function s(){e.classList.remove("hidden"),u.classList.add("hidden"),o=[[null,null,null,null],[null,null,null,null],[null,null,null,null],[null,null,null,null]],a=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]],c(),c()}function d(l){var n=l.key;"ArrowUp"===n?y():"ArrowDown"===n?g():"ArrowLeft"===n?w():"ArrowRight"===n&&x()}function v(){for(var l=0;l<f;l++)for(var n=0;n<f;n++)a[l][n]=!1}function h(){var u=0;l.forEach(function(l){u+=+l.innerText,r=u}),r=u,n.innerText=r}function m(){for(var l=0;l<f;l++)for(var n=0;n<f;n++)if(null===o[l][n])return!1;for(var r=0;r<f;r++)for(var t=0;t<f-1;t++)if(o[r][t]===o[r][t+1])return!1;for(var a=0;a<f;a++)for(var i=0;i<f-1;i++)if(o[i][a]===o[i+1][a])return!1;return e.classList.add("hidden"),u.classList.remove("hidden"),!0}function L(){for(var l=0;l<f;l++)for(var n=0;n<f;n++)if(2048===o[l][n])return e.classList.add("hidden"),t.classList.remove("hidden"),!0}function y(){v();for(var l=!1,n=0;n<f;n++)for(var r=1;r<f;r++)if(null!==o[r][n]){for(var u=o[r][n],e=r;e>0&&null===o[e-1][n];)e--;e>0&&o[e-1][n]===u&&!a[e-1][n]?(o[e-1][n]*=2,o[r][n]=null,a[e-1][n]=!0,a[e][n]=!1,l=!0):e!==r&&(o[e][n]=u,o[r][n]=null,l=!0)}l&&(c(),i(),m(),L())}function g(){v();for(var l=!1,n=0;n<f;n++)for(var r=f-1;r>=0;r--)if(null!==o[r][n]){for(var u=o[r][n],e=r;e<f-1&&null===o[e+1][n];)e++;e<f-1&&o[e+1][n]===u&&!a[e+1][n]?(o[e+1][n]*=2,o[r][n]=null,a[e+1][n]=!0,a[e][n]=!1,l=!0):e!==r&&(o[e][n]=u,o[r][n]=null,l=!0)}l&&(c(),i(),m(),L())}function w(){v();for(var l=!1,n=0;n<f;n++)for(var r=1;r<f;r++)if(null!==o[n][r]){for(var u=o[n][r],e=r;e>0&&null===o[n][e-1];)e--;e>0&&o[n][e-1]===u&&!a[n][e-1]?(o[n][e-1]*=2,o[n][r]=null,a[n][e-1]=!0,a[n][e]=!1,l=!0):e!==r&&(o[n][e]=u,o[n][r]=null,l=!0)}l&&(c(),i(),m(),L())}function x(){v();for(var l=!1,n=0;n<f;n++)for(var r=f-1;r>=0;r--)if(null!==o[n][r]){for(var u=o[n][r],e=r;e<f-1&&null===o[n][e+1];)e++;e<f-1&&o[n][e+1]===u&&!a[n][e+1]?(o[n][e+1]*=2,o[n][r]=null,a[n][e+1]=!0,a[n][e]=!1,l=!0):e!==r&&(o[n][e]=u,o[n][r]=null,l=!0)}l&&(c(),i(),m(),L(),h())}var q=document.querySelector(".button.start");q.addEventListener("click",function(){s(),e.classList.add("hidden"),q.classList.remove("start"),q.classList.add("restart"),q.innerText="Restart"}),document.addEventListener("keydown",d);
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.a20f7307.js.map